import{j as e}from"./index-CKn5vwMc.js";import{r as t}from"./vendor-react-CZ4YD2Q7.js";import{A as s,m as a,j as r,S as i,X as n,C as l}from"./vendor-utils-DAAxupGm.js";const o="G-XXXXXXXXXX",c=()=>{if(window.gtag)return;const e=document.createElement("script");function t(){window.dataLayer.push(arguments)}e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${o}`,document.head.appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=t,t("js",new Date),t("config",o)};function d(){const[o,d]=t.useState(!1),[x,m]=t.useState(!1),[f,g]=t.useState({necessary:!0,analytics:!1});t.useEffect(()=>{const e=localStorage.getItem("yiyuan-cookie-consent");if(e){const t=JSON.parse(e);g(t),t.analytics&&c()}else setTimeout(()=>d(!0),2e3)},[]);const h=e=>{localStorage.setItem("yiyuan-cookie-consent",JSON.stringify(e)),g(e),e.analytics&&c(),d(!1),m(!1)};return e.jsxs(s,{children:[o&&!x&&e.jsx(a.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:200},className:"fixed bottom-0 left-0 right-0 z-[150] p-4 md:p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-2xl shadow-[0_-10px_40px_rgba(0,0,0,0.1)] border border-gray-100 p-6 md:p-8 flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"bg-mint-green/30 p-3 rounded-full text-forest-green flex-shrink-0",children:e.jsx(r,{size:28})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-1",children:"我們重視您的隱私"}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed max-w-xl",children:"本網站使用 Cookie 以提升您的瀏覽體驗並分析流量。繼續使用本網站即表示您同意我們使用 Cookie。您可以隨時在隱私權設定中調整您的偏好設定。"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[e.jsx("button",{onClick:()=>m(!0),className:"px-6 py-2.5 rounded-xl border-2 border-gray-200 text-gray-600 font-medium hover:border-forest-green hover:text-forest-green transition-colors",children:"自訂選項"}),e.jsx("button",{onClick:()=>{h({necessary:!0,analytics:!0})},className:"bg-forest-green text-white px-8 py-2.5 rounded-xl font-bold hover:bg-opacity-90 transition-all shadow-lg shadow-forest-green/20",children:"接受所有"})]})]})}),x&&e.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-4",children:[e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>m(!1)}),e.jsxs(a.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative bg-white w-full max-w-lg rounded-3xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 bg-mint-green/10 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(i,{className:"text-forest-green",size:24}),e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Cookie 偏好設定"})]}),e.jsx("button",{onClick:()=>m(!1),children:e.jsx(n,{className:"text-gray-400 hover:text-gray-600"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800",children:"必要性 Cookie"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"維持網站運作所需，無法關閉。"})]}),e.jsx(l,{className:"text-forest-green shrink-0"})]}),e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800",children:"分析性 Cookie"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"幫助我們了解網站流量與效能 (Google Analytics)。"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:f.analytics,onChange:e=>g(t=>({...t,analytics:e.target.checked}))}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-forest-green"})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-100 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>m(!1),className:"px-6 py-2.5 text-gray-500 hover:text-gray-700 font-medium",children:"取消"}),e.jsx("button",{onClick:()=>{h(f)},className:"bg-forest-green text-white px-8 py-2.5 rounded-xl font-bold hover:bg-opacity-90 transition-all",children:"儲存設定"})]})]})]})]})}export{d as default};
