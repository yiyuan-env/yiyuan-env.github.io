import{j as e}from"./index-C_fVfKY4.js";import{r as t}from"./vendor-react-CokEETHG.js";import{A as a,m as r,l as s,n as i,X as l,C as n}from"./vendor-utils-CCvkr4Il.js";const o="G-XXXXXXXXXX",d=()=>{if(window.gtag)return;const e=document.createElement("script");function t(){window.dataLayer.push(arguments)}e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${o}`,document.head.appendChild(e),window.dataLayer=window.dataLayer||[],window.gtag=t,t("js",new Date),t("config",o)};function c(){const[o,c]=t.useState(!1),[x,g]=t.useState(!1),[m,y]=t.useState({necessary:!0,analytics:!1});t.useEffect(()=>{const e=localStorage.getItem("yiyuan-cookie-consent");if(e){const t=JSON.parse(e);y(t),t.analytics&&d()}else setTimeout(()=>c(!0),2e3)},[]);const f=e=>{localStorage.setItem("yiyuan-cookie-consent",JSON.stringify(e)),y(e),e.analytics&&d(),c(!1),g(!1)};return e.jsxs(a,{children:[o&&!x&&e.jsx(r.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",damping:25,stiffness:200},className:"fixed bottom-0 left-0 right-0 z-[150] p-4 md:p-6",role:"complementary","aria-label":"Cookie 同意聲明",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-white dark:bg-gray-800 rounded-2xl shadow-[0_-10px_40px_rgba(0,0,0,0.1)] border border-gray-100 dark:border-gray-700 p-6 md:p-8 flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"bg-mint-green/30 dark:bg-mint-green/10 p-3 rounded-full text-forest-green dark:text-mint-green flex-shrink-0",children:e.jsx(s,{size:28})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold text-gray-800 dark:text-white mb-1",children:"隱私權設定"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 leading-relaxed max-w-xl",children:"我們使用 Cookie 來提升您的瀏覽體驗。除了必要的 Cookie 外，我們也希望使用分析型 Cookie 來了解您如何使用本網站。您可以隨時在隱私權設定中調整您的偏好設定。"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[e.jsx("button",{onClick:()=>g(!0),className:"px-6 py-2.5 rounded-xl border-2 border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 font-medium hover:border-forest-green dark:hover:border-mint-green hover:text-forest-green dark:hover:text-mint-green transition-colors",children:"自訂選項"}),e.jsx("button",{onClick:()=>{f({necessary:!0,analytics:!0})},className:"bg-forest-green text-white px-8 py-2.5 rounded-xl font-bold hover:bg-opacity-90 transition-all shadow-lg shadow-forest-green/20",children:"接受所有"})]})]})}),x&&e.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-4",children:[e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>g(!1)}),e.jsxs(r.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative bg-white dark:bg-gray-800 w-full max-w-lg rounded-3xl shadow-2xl overflow-hidden",role:"dialog","aria-modal":"true","aria-labelledby":"cookie-settings-title",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700 bg-mint-green/10 dark:bg-gray-700/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(i,{className:"text-forest-green dark:text-mint-green",size:24}),e.jsx("h3",{id:"cookie-settings-title",className:"text-xl font-bold text-gray-800 dark:text-white",children:"Cookie 偏好設定"})]}),e.jsx("button",{onClick:()=>g(!1),"aria-label":"關閉偏好設定",children:e.jsx(l,{className:"text-gray-400 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-200"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 dark:text-white",children:"必要性 Cookie"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"維持網站運作所需，無法關閉。"})]}),e.jsx(n,{className:"text-forest-green dark:text-mint-green shrink-0"})]}),e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{id:"analytics-label",className:"font-bold text-gray-800 dark:text-white",children:"分析性 Cookie"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"幫助我們了解網站流量與效能 (Google Analytics)。"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:m.analytics,onChange:e=>y(t=>({...t,analytics:e.target.checked})),"aria-labelledby":"analytics-label"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 dark:bg-gray-600 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-forest-green dark:peer-checked:bg-mint-green"})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-100 dark:border-gray-700 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>g(!1),className:"px-6 py-2.5 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 font-medium",children:"取消"}),e.jsx("button",{onClick:()=>{f(m)},className:"bg-forest-green text-white px-8 py-2.5 rounded-xl font-bold hover:bg-opacity-90 transition-all",children:"儲存設定"})]})]})]})]})}export{c as default};
